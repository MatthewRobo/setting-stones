heat_prev = heat;
stamina = max(stamina, 0);